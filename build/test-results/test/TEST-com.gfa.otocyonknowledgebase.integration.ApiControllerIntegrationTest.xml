<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" tests="18" skipped="0" failures="0" errors="0" timestamp="2023-08-31T06:50:11" hostname="DESKTOP-HHQFCT2" time="10.394">
  <properties/>
  <testcase name="Add tag to seed, seed not exist" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.85"/>
  <testcase name="Get All Seeds connected by selected tags we don't have" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.064"/>
  <testcase name="Delete seed, seed is not present" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.066"/>
  <testcase name="Add tag to seed, no tag name" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.048"/>
  <testcase name="Get Seed by ID, seed is not present" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.269"/>
  <testcase name="Get All Tags" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.173"/>
  <testcase name="Get All Seeds" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.043"/>
  <testcase name="Get all tags of seed by seed id when seed do not exist" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.038"/>
  <testcase name="Add tag to seed, seed exist" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.048"/>
  <testcase name="Update Seed Content" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.033"/>
  <testcase name="Update Seed Content, seed not found" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.025"/>
  <testcase name="Get All Seeds connected by selected tags we have" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.039"/>
  <testcase name="Update tag name, tag name is not present" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.051"/>
  <testcase name="Get all tags of seed by seed id when seed exist" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.038"/>
  <testcase name="Update tag name" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.046"/>
  <testcase name="Update tag name, missing params" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.029"/>
  <testcase name="Get Seed by ID" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.034"/>
  <testcase name="Save Seed with Seed Content Only" classname="com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest" time="0.023"/>
  <system-out><![CDATA[08:50:05.341 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest]: ApiControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
08:50:05.483 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.gfa.otocyonknowledgebase.PumpkinMindApplication for test class com.gfa.otocyonknowledgebase.integration.ApiControllerIntegrationTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:05.983+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:05.985+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:07.212+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:07.325+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:08.012+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:08.149+02:00  INFO 10584 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.5.Final
2023-08-31T08:50:08.153+02:00  INFO 10584 --- [    Test worker] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-08-31T08:50:08.396+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:08.610+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:08.639+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-31T08:50:08.934+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:08.937+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-31T08:50:09.331+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:10.105+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:10.164+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:11.146+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52238861, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@279e4506, org.springframework.security.web.context.SecurityContextHolderFilter@6c89c92e, org.springframework.security.web.header.HeaderWriterFilter@2dedde74, org.springframework.web.filter.CorsFilter@4582da06, org.springframework.security.web.authentication.logout.LogoutFilter@6b9b9cb9, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@66ce4b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34d644b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65130cf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@523e019c, org.springframework.security.web.session.SessionManagementFilter@75128cf, org.springframework.security.web.access.ExceptionTranslationFilter@33aa4326, org.springframework.security.web.access.intercept.AuthorizationFilter@5a35efac]
2023-08-31T08:50:11.458+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:11.669+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:11.670+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:11.671+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-08-31T08:50:11.700+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 6.008 seconds (process running for 7.895)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:12.462+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request to add tag Optional[Pumpička] to seed with ID 10.
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,d1_0.seed_id,d1_0.file_id,d1_0.file_name,d1_0.filepath,d1_0.type from seeds s1_0 left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join files d1_0 on s1_0.id_seed=d1_0.seed_id where s1_0.id_seed=?
2023-08-31T08:50:12.560+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:12.567+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-31T08:50:12.569+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:12.631+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:12.632+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:12.873+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:12.896+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:12.971+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:12.984+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:12.984+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:12.986+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-08-31T08:50:12.988+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:12.988+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-08-31T08:50:13.014+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:13.093+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:13.107+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:13.255+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65e4ee59, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4746d52d, org.springframework.security.web.context.SecurityContextHolderFilter@6ba6f4e7, org.springframework.security.web.header.HeaderWriterFilter@36cc6055, org.springframework.web.filter.CorsFilter@4d0927df, org.springframework.security.web.authentication.logout.LogoutFilter@78fb4f7f, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@6fb87b73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d45ea17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@685efb22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b0e81b3, org.springframework.security.web.session.SessionManagementFilter@41d1bcbd, org.springframework.security.web.access.ExceptionTranslationFilter@578036a2, org.springframework.security.web.access.intercept.AuthorizationFilter@756476a3]
2023-08-31T08:50:13.290+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:13.321+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:13.322+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:13.323+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-08-31T08:50:13.330+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.755 seconds (process running for 9.525)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:13.365+02:00  INFO 10584 --- [    Test worker] c.g.o.services.SeedServiceImpl           : getAllSeedsForLoggedUser() called
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0 where s1_0.user_id=?
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:13.381+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : No seeds found for tags: [cookie, Technology]
2023-08-31T08:50:13.387+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:13.394+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-08-31T08:50:13.397+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:13.423+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:13.424+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:13.637+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:13.663+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:13.719+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:13.733+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:13.734+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:13.735+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-08-31T08:50:13.737+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:13.737+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-08-31T08:50:13.762+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:13.835+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:13.848+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:14.009+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20b54b6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@195267c8, org.springframework.security.web.context.SecurityContextHolderFilter@7e654c, org.springframework.security.web.header.HeaderWriterFilter@1858f93e, org.springframework.web.filter.CorsFilter@69924070, org.springframework.security.web.authentication.logout.LogoutFilter@7b6846c6, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@4c66b3d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@720f0fa2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dc199d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@496a514f, org.springframework.security.web.session.SessionManagementFilter@2e61695b, org.springframework.security.web.access.ExceptionTranslationFilter@2b4b3918, org.springframework.security.web.access.intercept.AuthorizationFilter@503e1cd9]
2023-08-31T08:50:14.058+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:14.097+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:14.097+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:14.098+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-08-31T08:50:14.107+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.705 seconds (process running for 10.302)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,d1_0.seed_id,d1_0.file_id,d1_0.file_name,d1_0.filepath,d1_0.type from seeds s1_0 left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join files d1_0 on s1_0.id_seed=d1_0.seed_id where s1_0.id_seed=?
2023-08-31T08:50:14.168+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:14.174+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-08-31T08:50:14.176+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:14.214+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:14.214+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:14.418+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:14.446+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:14.501+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:14.512+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:14.513+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:14.514+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2023-08-31T08:50:14.515+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:14.515+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2023-08-31T08:50:14.536+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:14.589+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:14.600+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:14.698+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b418ca2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e608993, org.springframework.security.web.context.SecurityContextHolderFilter@2cbd35f2, org.springframework.security.web.header.HeaderWriterFilter@60b201c, org.springframework.web.filter.CorsFilter@1675adad, org.springframework.security.web.authentication.logout.LogoutFilter@2f474e6f, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@520ac5da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bdd6203, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7489bca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@384d40a5, org.springframework.security.web.session.SessionManagementFilter@630fa11e, org.springframework.security.web.access.ExceptionTranslationFilter@6e8d3d43, org.springframework.security.web.access.intercept.AuthorizationFilter@561f013f]
2023-08-31T08:50:14.719+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:14.741+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:14.742+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:14.742+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:14.747+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.566 seconds (process running for 10.942)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:14.768+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request to add tag Optional.empty to seed with ID 1.
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:14.782+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Tag is not provided in the request body.
2023-08-31T08:50:14.791+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:14.795+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2023-08-31T08:50:14.797+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:14.830+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:14.830+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:15.024+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:15.045+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:15.097+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:15.106+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:15.106+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:15.107+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2023-08-31T08:50:15.108+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:15.108+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2023-08-31T08:50:15.129+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:15.189+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:15.203+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:15.334+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27c510c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b981dea, org.springframework.security.web.context.SecurityContextHolderFilter@38c00fa1, org.springframework.security.web.header.HeaderWriterFilter@4c44928e, org.springframework.web.filter.CorsFilter@3482b7e6, org.springframework.security.web.authentication.logout.LogoutFilter@5713705f, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@5cf69333, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239462d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bac54cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bab61e7, org.springframework.security.web.session.SessionManagementFilter@7dbb24a6, org.springframework.security.web.access.ExceptionTranslationFilter@31e5554e, org.springframework.security.web.access.intercept.AuthorizationFilter@7eb22e87]
2023-08-31T08:50:15.366+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:15.396+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:15.396+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:15.396+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:15.407+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.607 seconds (process running for 11.602)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:15.429+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request for seed with ID: 5
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select count(*) from seeds s1_0 where s1_0.id_seed=?
2023-08-31T08:50:15.671+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seed with ID: 5 not found.
2023-08-31T08:50:15.674+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:15.677+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2023-08-31T08:50:15.678+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:15.701+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:15.701+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:15.881+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:15.899+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:15.949+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:15.962+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:15.962+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:15.964+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2023-08-31T08:50:15.966+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn50: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:15.966+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2023-08-31T08:50:15.984+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:16.042+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:16.052+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:16.185+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@770ad1f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cda59e6, org.springframework.security.web.context.SecurityContextHolderFilter@499686b9, org.springframework.security.web.header.HeaderWriterFilter@2d47970a, org.springframework.web.filter.CorsFilter@78b9ef0c, org.springframework.security.web.authentication.logout.LogoutFilter@2603ad0a, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@3140ee29, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@710f4a91, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60e17c7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b8eb7b2, org.springframework.security.web.session.SessionManagementFilter@1425f44b, org.springframework.security.web.access.ExceptionTranslationFilter@c0684ee, org.springframework.security.web.access.intercept.AuthorizationFilter@463aa3da]
2023-08-31T08:50:16.217+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:16.247+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:16.247+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:16.248+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-08-31T08:50:16.253+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.572 seconds (process running for 12.447)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:16.277+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request for all tags.
2023-08-31T08:50:16.278+02:00  INFO 10584 --- [    Test worker] c.g.o.services.SeedServiceImpl           : getAllSeedsForLoggedUser() called
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0 where s1_0.user_id=?
2023-08-31T08:50:16.291+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Tags found: [1|Book, 1|Technology, 1|Food, 1|Family]
2023-08-31T08:50:16.423+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:16.426+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2023-08-31T08:50:16.427+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:16.452+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:16.453+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:16.631+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:16.652+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:16.706+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:16.717+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:16.717+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:16.718+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2023-08-31T08:50:16.719+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn60: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:16.719+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2023-08-31T08:50:16.738+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:16.786+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:16.798+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:16.945+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ed507b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a05c4fa, org.springframework.security.web.context.SecurityContextHolderFilter@4da1d61b, org.springframework.security.web.header.HeaderWriterFilter@2655732, org.springframework.web.filter.CorsFilter@6db96289, org.springframework.security.web.authentication.logout.LogoutFilter@5162bede, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@765569a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2feaa16c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79eaf64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43a77cd6, org.springframework.security.web.session.SessionManagementFilter@2346dfad, org.springframework.security.web.access.ExceptionTranslationFilter@69117714, org.springframework.security.web.access.intercept.AuthorizationFilter@596eebdb]
2023-08-31T08:50:16.982+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:17.014+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:17.014+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:17.014+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:17.019+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.588 seconds (process running for 13.214)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:17.041+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request for all seeds.
2023-08-31T08:50:17.041+02:00  INFO 10584 --- [    Test worker] c.g.o.services.SeedServiceImpl           : getAllSeedsForLoggedUser() called
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0 where s1_0.user_id=?
2023-08-31T08:50:17.050+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Found list of seeds, converted to SeedDtos.
>>>>>>>>>> [{"seedId":1,"content":"I am test seed one","taglings":[{"tagName":"Book"},{"tagName":"Technology"},{"tagName":"Food"},{"tagName":"Family"}],"dataPapyruslings":[{"fileId":1,"type":"Type1","fileName":"File1"}]},{"seedId":2,"content":"I am test seed two","taglings":[{"tagName":"Food"}],"dataPapyruslings":[{"fileId":2,"type":"Type2","fileName":"File2"}]},{"seedId":3,"content":"I am test seed three","taglings":[{"tagName":"Book"},{"tagName":"Technology"}],"dataPapyruslings":[]}] <<<<<<<<<<
2023-08-31T08:50:17.062+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:17.065+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2023-08-31T08:50:17.066+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:17.093+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:17.093+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:17.278+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:17.297+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:17.347+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:17.359+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:17.359+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:17.360+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2023-08-31T08:50:17.361+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn70: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:17.361+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2023-08-31T08:50:17.378+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:17.422+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:17.430+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:17.524+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7541dbee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@487d4cbb, org.springframework.security.web.context.SecurityContextHolderFilter@75e05153, org.springframework.security.web.header.HeaderWriterFilter@7fa20767, org.springframework.web.filter.CorsFilter@7f8b5188, org.springframework.security.web.authentication.logout.LogoutFilter@886a0f5, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@7fef02d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d95743, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e2ff120, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@639cff0e, org.springframework.security.web.session.SessionManagementFilter@508835bc, org.springframework.security.web.access.ExceptionTranslationFilter@44261d79, org.springframework.security.web.access.intercept.AuthorizationFilter@5299c25d]
2023-08-31T08:50:17.545+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:17.567+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:17.567+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:17.567+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:17.572+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.504 seconds (process running for 13.767)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select count(*) from seeds s1_0 where s1_0.id_seed=?
2023-08-31T08:50:17.598+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seed with ID 10 not found.
2023-08-31T08:50:17.602+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:17.605+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2023-08-31T08:50:17.612+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:17.634+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:17.634+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:17.785+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:17.806+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:17.848+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:17.858+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:17.858+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:17.859+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2023-08-31T08:50:17.860+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn80: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:17.860+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2023-08-31T08:50:17.878+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:17.916+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:17.924+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:18.012+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@617bb321, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@90b779d, org.springframework.security.web.context.SecurityContextHolderFilter@1a73b0f9, org.springframework.security.web.header.HeaderWriterFilter@526c0134, org.springframework.web.filter.CorsFilter@1c1023e1, org.springframework.security.web.authentication.logout.LogoutFilter@1e5ed8d3, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@67040b58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f30f01e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@de7336d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca9f111, org.springframework.security.web.session.SessionManagementFilter@2646531d, org.springframework.security.web.access.ExceptionTranslationFilter@774a458c, org.springframework.security.web.access.intercept.AuthorizationFilter@129e58fa]
2023-08-31T08:50:18.030+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:18.047+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:18.048+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:18.048+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:18.051+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.437 seconds (process running for 14.247)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:18.068+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request to add tag Optional[Pumpička] to seed with ID 1.
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
2023-08-31T08:50:18.079+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Tag Tag(tagName=1|Pumpička, tagId=5, seeds=[]) added to seed with ID 1 successfully.
2023-08-31T08:50:18.086+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:18.089+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2023-08-31T08:50:18.101+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:18.119+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:18.120+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:18.267+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:18.284+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:18.325+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:18.334+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:18.334+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:18.335+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2023-08-31T08:50:18.336+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection conn90: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:18.336+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2023-08-31T08:50:18.353+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:18.405+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:18.416+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:18.518+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b48170a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d3a52aa, org.springframework.security.web.context.SecurityContextHolderFilter@31311a5, org.springframework.security.web.header.HeaderWriterFilter@1801aaef, org.springframework.web.filter.CorsFilter@4cfd3d7e, org.springframework.security.web.authentication.logout.LogoutFilter@42449a0b, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@580936b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43e32f01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5620a340, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@621be873, org.springframework.security.web.session.SessionManagementFilter@2ae4a15a, org.springframework.security.web.access.ExceptionTranslationFilter@76c6ded8, org.springframework.security.web.access.intercept.AuthorizationFilter@4b6cb496]
2023-08-31T08:50:18.537+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:18.553+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:18.553+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:18.553+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:18.557+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.453 seconds (process running for 14.752)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select count(*) from seeds s1_0 where s1_0.id_seed=?
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:18.578+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Updated seed content for ID 1: New content: I am test seed one updated
2023-08-31T08:50:18.584+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:18.585+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2023-08-31T08:50:18.591+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:18.608+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:18.608+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:18.752+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:18.770+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:18.807+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:18.817+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:18.817+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:18.818+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2023-08-31T08:50:18.818+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection conn100: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:18.818+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2023-08-31T08:50:18.834+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:18.870+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:18.879+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:18.974+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70f04941, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@625bb465, org.springframework.security.web.context.SecurityContextHolderFilter@42d7b96, org.springframework.security.web.header.HeaderWriterFilter@25fd3379, org.springframework.web.filter.CorsFilter@68989b46, org.springframework.security.web.authentication.logout.LogoutFilter@64eedae0, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@692cfa72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32e2e611, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e486dcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67b12a7, org.springframework.security.web.session.SessionManagementFilter@3d79168b, org.springframework.security.web.access.ExceptionTranslationFilter@60dac476, org.springframework.security.web.access.intercept.AuthorizationFilter@7c8241eb]
2023-08-31T08:50:18.998+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:19.017+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:19.017+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:19.018+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-08-31T08:50:19.024+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.431 seconds (process running for 15.219)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select count(*) from seeds s1_0 where s1_0.id_seed=?
2023-08-31T08:50:19.044+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seed with ID 5 not found.
2023-08-31T08:50:19.048+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:19.050+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2023-08-31T08:50:19.052+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:19.079+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:19.079+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:19.234+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:19.255+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:19.316+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:19.329+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:19.329+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:19.332+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2023-08-31T08:50:19.333+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection conn109: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:19.333+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2023-08-31T08:50:19.352+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:19.396+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:19.405+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:19.491+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22b51ab4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e25a95a, org.springframework.security.web.context.SecurityContextHolderFilter@1bc4ce09, org.springframework.security.web.header.HeaderWriterFilter@e602e78, org.springframework.web.filter.CorsFilter@7556a83e, org.springframework.security.web.authentication.logout.LogoutFilter@4277c363, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@922ebd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c5d7add, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53418cc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4468f64c, org.springframework.security.web.session.SessionManagementFilter@67c96b50, org.springframework.security.web.access.ExceptionTranslationFilter@45d041c5, org.springframework.security.web.access.intercept.AuthorizationFilter@2a336787]
2023-08-31T08:50:19.509+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:19.531+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:19.531+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:19.531+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:19.535+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.481 seconds (process running for 15.73)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:19.551+02:00  INFO 10584 --- [    Test worker] c.g.o.services.SeedServiceImpl           : getAllSeedsForLoggedUser() called
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0 where s1_0.user_id=?
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:19.559+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seeds found by tags: [Book, Technology]
2023-08-31T08:50:19.568+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:19.569+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2023-08-31T08:50:19.576+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:19.594+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:19.594+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:19.730+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:19.746+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:19.777+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:19.786+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:19.786+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:19.787+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2023-08-31T08:50:19.788+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection conn118: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:19.789+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2023-08-31T08:50:19.805+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:19.842+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:19.849+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:19.920+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28c67405, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26b16a2b, org.springframework.security.web.context.SecurityContextHolderFilter@6d9dba8d, org.springframework.security.web.header.HeaderWriterFilter@134323ec, org.springframework.web.filter.CorsFilter@44eb735c, org.springframework.security.web.authentication.logout.LogoutFilter@506bc254, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@fdee9a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44aac8fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4efccfc7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d0b5aef, org.springframework.security.web.session.SessionManagementFilter@6c6e45d2, org.springframework.security.web.access.ExceptionTranslationFilter@1617f122, org.springframework.security.web.access.intercept.AuthorizationFilter@6abe68f6]
2023-08-31T08:50:19.939+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:19.957+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:19.957+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:19.958+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-08-31T08:50:19.964+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.386 seconds (process running for 16.16)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
2023-08-31T08:50:19.994+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Tag name update failed.Tag with name '1|Magazine' not found.
2023-08-31T08:50:20.000+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:20.004+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2023-08-31T08:50:20.017+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:20.041+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:20.041+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:20.218+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:20.236+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:20.275+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:20.288+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:20.289+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:20.290+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Starting...
2023-08-31T08:50:20.291+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-14 - Added connection conn127: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:20.291+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Start completed.
2023-08-31T08:50:20.308+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:20.349+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:20.355+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:20.435+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c291483, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@690379a8, org.springframework.security.web.context.SecurityContextHolderFilter@29ea8c1b, org.springframework.security.web.header.HeaderWriterFilter@3d16cefc, org.springframework.web.filter.CorsFilter@2393a5d1, org.springframework.security.web.authentication.logout.LogoutFilter@7396cf29, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@167cb588, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1021a5dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bcbf80a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50867236, org.springframework.security.web.session.SessionManagementFilter@4cdb2c8d, org.springframework.security.web.access.ExceptionTranslationFilter@22836e34, org.springframework.security.web.access.intercept.AuthorizationFilter@2a4b35a0]
2023-08-31T08:50:20.456+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:20.474+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:20.475+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:20.475+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:20.481+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.461 seconds (process running for 16.676)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select count(*) from seeds s1_0 where s1_0.id_seed=?
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:20.511+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Tags found for seed with ID 1: [TagDto(tagName=Book), TagDto(tagName=Technology), TagDto(tagName=Food), TagDto(tagName=Family)]
2023-08-31T08:50:20.516+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:20.518+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown initiated...
2023-08-31T08:50:20.520+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:20.542+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:20.542+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:20.703+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:20.719+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:20.757+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:20.770+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:20.770+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:20.771+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Starting...
2023-08-31T08:50:20.772+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-15 - Added connection conn136: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:20.773+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Start completed.
2023-08-31T08:50:20.793+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:20.834+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:20.841+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:20.921+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15e7833d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26c07595, org.springframework.security.web.context.SecurityContextHolderFilter@347fa9db, org.springframework.security.web.header.HeaderWriterFilter@30de36ec, org.springframework.web.filter.CorsFilter@52181f10, org.springframework.security.web.authentication.logout.LogoutFilter@2d93d0e4, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@563ec2a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14f110c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55593de5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f8d320c, org.springframework.security.web.session.SessionManagementFilter@25829025, org.springframework.security.web.access.ExceptionTranslationFilter@35a2a194, org.springframework.security.web.access.intercept.AuthorizationFilter@2dd21f40]
2023-08-31T08:50:20.938+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:20.957+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:20.958+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:20.958+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:20.964+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.44 seconds (process running for 17.159)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
Hibernate: update tags set tag_name=? where id_tag=?
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
2023-08-31T08:50:20.994+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Tag name updated successfully. Old Tag Name: '1|Book', New Tag Name: '1|Journal'
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0 where t1_0.tag_name=?
2023-08-31T08:50:21.000+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:21.001+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown initiated...
2023-08-31T08:50:21.011+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:21.031+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:21.032+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:21.156+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:21.175+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:21.216+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:21.226+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:21.226+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:21.228+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Starting...
2023-08-31T08:50:21.229+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-16 - Added connection conn145: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:21.229+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Start completed.
2023-08-31T08:50:21.242+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:21.276+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:21.283+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:21.363+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@484a7b4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d336403, org.springframework.security.web.context.SecurityContextHolderFilter@37df48a4, org.springframework.security.web.header.HeaderWriterFilter@58098663, org.springframework.web.filter.CorsFilter@2e8022f8, org.springframework.security.web.authentication.logout.LogoutFilter@4e82fd8a, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@6dcb95c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69208ca6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d0e257f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e3f61f6, org.springframework.security.web.session.SessionManagementFilter@4a269062, org.springframework.security.web.access.ExceptionTranslationFilter@333db39a, org.springframework.security.web.access.intercept.AuthorizationFilter@2f83f197]
2023-08-31T08:50:21.386+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:21.416+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:21.416+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:21.416+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:21.421+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.405 seconds (process running for 17.616)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:21.438+02:00  WARN 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Both oldTagName and newTagName are required in the request.
2023-08-31T08:50:21.440+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:21.441+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown initiated...
2023-08-31T08:50:21.452+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:21.469+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:21.469+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:21.584+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:21.597+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:21.627+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:21.636+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:21.636+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:21.637+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Starting...
2023-08-31T08:50:21.638+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-17 - Added connection conn153: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:21.638+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Start completed.
2023-08-31T08:50:21.649+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:21.676+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:21.681+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:21.734+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@519827ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a960715, org.springframework.security.web.context.SecurityContextHolderFilter@4bbef309, org.springframework.security.web.header.HeaderWriterFilter@665f0f16, org.springframework.web.filter.CorsFilter@a561016, org.springframework.security.web.authentication.logout.LogoutFilter@9d6f16, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@4468880e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@613b400, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@182a2c6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72ad1402, org.springframework.security.web.session.SessionManagementFilter@2c511b09, org.springframework.security.web.access.ExceptionTranslationFilter@5c923e40, org.springframework.security.web.access.intercept.AuthorizationFilter@52b546d8]
2023-08-31T08:50:21.746+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:21.759+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:21.759+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:21.759+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:21.764+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.309 seconds (process running for 17.958)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
2023-08-31T08:50:21.775+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Received request for seed with ID: 1
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select count(*) from seeds s1_0 where s1_0.id_seed=?
2023-08-31T08:50:21.779+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seed with ID: 1 found.
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:21.786+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:21.788+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown initiated...
2023-08-31T08:50:21.799+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.1)

2023-08-31T08:50:21.811+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Starting ApiControllerIntegrationTest using Java 17.0.7 with PID 10584 (started by nicol in C:\Users\nicol\Desktop\otocyon-knowledge-base)
2023-08-31T08:50:21.812+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : No active profile set, falling back to 1 default profile: "default"
2023-08-31T08:50:21.915+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-31T08:50:21.929+02:00  INFO 10584 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2023-08-31T08:50:21.955+02:00  INFO 10584 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-31T08:50:21.965+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:21.965+02:00  INFO 10584 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-31T08:50:21.966+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Starting...
2023-08-31T08:50:21.966+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-18 - Added connection conn157: url=jdbc:h2:mem:db user=SA
2023-08-31T08:50:21.966+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Start completed.
2023-08-31T08:50:21.978+02:00  INFO 10584 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-31T08:50:22.004+02:00  INFO 10584 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
Hibernate: create sequence file_seeds_seq start with 1 increment by 50
Hibernate: create sequence files_seq start with 1 increment by 50
Hibernate: create sequence seeds_seq start with 1 increment by 50
Hibernate: create sequence tags_seq start with 1 increment by 50
Hibernate: create sequence users_seq start with 1 increment by 50
Hibernate: create table file_seeds (file_seed_id bigint not null, file_path varchar(255), name varchar(255), timestamp varchar(255), type varchar(255), primary key (file_seed_id))
Hibernate: create table files (file_id bigint not null, seed_id bigint, file_name varchar(255), filepath varchar(255), type varchar(255), primary key (file_id))
Hibernate: create table refresh_token (expiry_date timestamp(6) with time zone, id_user bigint unique, token_id bigint generated by default as identity, token varchar(255), primary key (token_id))
Hibernate: create table seed_tag (seed_id bigint not null, tag_id bigint not null)
Hibernate: create table seeds (id_seed bigint not null, user_id bigint, content varchar(255), timestamp varchar(255), primary key (id_seed))
Hibernate: create table tags (id_tag bigint not null, tag_name varchar(255) unique, primary key (id_tag))
Hibernate: create table users (id_user bigint not null, email varchar(255), password varchar(255), role varchar(255) check (role in ('USER','ADMIN')), user_name varchar(255) unique, primary key (id_user))
Hibernate: alter table if exists files add constraint FKpe0b5tt3kyd14eubhh2d9dn9w foreign key (seed_id) references seeds
Hibernate: alter table if exists refresh_token add constraint FK9ga6lxgynm512xwl8ie5vb6n0 foreign key (id_user) references users
Hibernate: alter table if exists seed_tag add constraint FKp3sv9jikvh3qha1b986u370ig foreign key (tag_id) references tags
Hibernate: alter table if exists seed_tag add constraint FKg8i7t8wqevu1gmy23npevf7o3 foreign key (seed_id) references seeds
Hibernate: alter table if exists seeds add constraint FKou1kkjjb0lc9pcp3rwya0ax4b foreign key (user_id) references users
2023-08-31T08:50:22.009+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-31T08:50:22.064+02:00  INFO 10584 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a0bd732, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f7e5288, org.springframework.security.web.context.SecurityContextHolderFilter@6d20bdd2, org.springframework.security.web.header.HeaderWriterFilter@528e6647, org.springframework.web.filter.CorsFilter@7d16787e, org.springframework.security.web.authentication.logout.LogoutFilter@7ef37c7f, com.gfa.otocyonknowledgebase.security.config.JWTAuthenticationFilter@72bd8149, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e5e3ed3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fc3db01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38c4e3eb, org.springframework.security.web.session.SessionManagementFilter@4d8892f9, org.springframework.security.web.access.ExceptionTranslationFilter@5fb18396, org.springframework.security.web.access.intercept.AuthorizationFilter@308ea334]
2023-08-31T08:50:22.075+02:00  WARN 10584 --- [    Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-08-31T08:50:22.086+02:00  INFO 10584 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-31T08:50:22.087+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-31T08:50:22.087+02:00  INFO 10584 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-31T08:50:22.091+02:00  INFO 10584 --- [    Test worker] c.g.o.i.ApiControllerIntegrationTest     : Started ApiControllerIntegrationTest in 0.29 seconds (process running for 18.286)
Hibernate: select s1_0.id_seed,s1_0.content,s1_0.timestamp,s1_0.user_id from seeds s1_0
Hibernate: select t1_0.id_tag,t1_0.tag_name from tags t1_0
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,s1_0.user_id,s1_0.id_seed,s1_0.content,s1_0.timestamp from users u1_0 left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join seeds s1_0 on u1_0.id_user=s1_0.user_id where u1_0.id_user=?
Hibernate: select next value for users_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for tags_seq
Hibernate: select next value for seeds_seq
Hibernate: select next value for seeds_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: select d1_0.file_id,d1_0.file_name,d1_0.filepath,s1_0.id_seed,s1_0.content,s1_0.timestamp,u1_0.id_user,u1_0.email,u1_0.password,r1_0.token_id,r1_0.expiry_date,r1_0.token,u1_0.role,u1_0.user_name,t1_0.seed_id,t1_1.id_tag,t1_1.tag_name,d1_0.type from files d1_0 left join seeds s1_0 on s1_0.id_seed=d1_0.seed_id left join users u1_0 on u1_0.id_user=s1_0.user_id left join refresh_token r1_0 on u1_0.id_user=r1_0.id_user left join (seed_tag t1_0 join tags t1_1 on t1_1.id_tag=t1_0.tag_id) on s1_0.id_seed=t1_0.seed_id where d1_0.file_id=?
Hibernate: select next value for files_seq
Hibernate: insert into users (email,password,role,user_name,id_user) values (?,?,?,?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into tags (tag_name,id_tag) values (?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into seeds (content,timestamp,user_id,id_seed) values (?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into files (file_name,filepath,seed_id,type,file_id) values (?,?,?,?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: insert into seed_tag (seed_id,tag_id) values (?,?)
Hibernate: select u1_0.id_user,u1_0.email,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?
2023-08-31T08:50:22.105+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seed tied to logged-in user.
2023-08-31T08:50:22.105+02:00  INFO 10584 --- [    Test worker] c.g.o.controllers.ApiController          : Seed saved.
2023-08-31T08:50:22.110+02:00  INFO 10584 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table if exists file_seeds cascade 
Hibernate: drop table if exists files cascade 
Hibernate: drop table if exists refresh_token cascade 
Hibernate: drop table if exists seed_tag cascade 
Hibernate: drop table if exists seeds cascade 
Hibernate: drop table if exists tags cascade 
Hibernate: drop table if exists users cascade 
Hibernate: drop sequence if exists file_seeds_seq
Hibernate: drop sequence if exists files_seq
Hibernate: drop sequence if exists seeds_seq
Hibernate: drop sequence if exists tags_seq
Hibernate: drop sequence if exists users_seq
2023-08-31T08:50:22.111+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Shutdown initiated...
2023-08-31T08:50:22.115+02:00  INFO 10584 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Shutdown completed.
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
